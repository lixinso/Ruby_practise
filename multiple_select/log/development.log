  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (28.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (310.4ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20110705014019)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "user_name" varchar(255), "password" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110705014019')[0m
Migrating to CreateRoles (20110705014120)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "role_name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110705014120')[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:10:14) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 50ms (View: 29, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:10:16) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;35;1mRole Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: roles_users: SELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (SQLite3::SQLException: no such table: roles_users: SELECT "roles".id FROM "roles"  INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) ) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role,{ :selected => @user.role_ids },{:multiple => true, :role => 'user[role_ids][]' }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20110705014019)
Migrating to CreateRoles (20110705014120)
Migrating to CreateRolesUsers (20110705021311)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "roles_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "role_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110705021311')[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles_users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:13:50) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (8.8ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role,{ :selected => @user.role_ids },{:multiple => true, :role => 'user[role_ids][]' }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:14:37) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role,{ :selected => @user.role_ids },{:multiple => true, :role => 'user[role_ids][]' }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (85.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:14:39) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role,{ :selected => @user.role_ids },{:multiple => true, :role => 'user[role_ids][]' }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (83.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:18:25) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role_name,{ :selected => @user.role_ids },{:multiple => true }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:19:03) [GET]
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #25 of app/views/users/new.html.erb:
22: 
23:   <p>
24: 
25:     <%= collection_select(:user, :role_ids, @roles, :id, :role_name,{ :selected => @user.role_ids },{:multiple => true }) %>
26: 
27:   </p>
28: 

    app/views/users/new.html.erb:25
    app/views/users/new.html.erb:3
    app/controllers/users_controller.rb:29:in `new'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:19:43) [GET]
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/users
Rendering users/new
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing RolesController#index (for 127.0.0.1 at 2011-07-05 10:20:02) [GET]
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 54ms (View: 8, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2011-07-05 10:20:04) [GET]
Rendering template within layouts/roles
Rendering roles/new
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2011-07-05 10:20:09) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "role"=>{"role_name"=>"role1"}}
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO "roles" ("created_at", "updated_at", "role_name") VALUES('2011-07-05 02:20:09', '2011-07-05 02:20:09', 'role1')[0m
Redirected to http://localhost:3008/roles/1
Completed in 35ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2011-07-05 10:20:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/roles/1]


Processing RolesController#index (for 127.0.0.1 at 2011-07-05 10:20:10) [GET]
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2011-07-05 10:20:12) [GET]
Rendering template within layouts/roles
Rendering roles/new
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2011-07-05 10:20:15) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "role"=>{"role_name"=>"role2"}}
  [4;35;1mRole Create (0.2ms)[0m   [0mINSERT INTO "roles" ("created_at", "updated_at", "role_name") VALUES('2011-07-05 02:20:15', '2011-07-05 02:20:15', 'role2')[0m
Redirected to http://localhost:3008/roles/2
Completed in 69ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2011-07-05 10:20:15) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/roles/2]


Processing RolesController#index (for 127.0.0.1 at 2011-07-05 10:20:16) [GET]
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:20:21) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:20:23) [GET]
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2011-07-05 10:20:35) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "user"=>{"role_ids"=>["1", "2"], "user_name"=>"user1", "last_name"=>"last1", "password"=>"pass1", "first_name"=>"first1"}}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2)) [0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "last_name", "user_name", "password", "first_name") VALUES('2011-07-05 02:20:35', '2011-07-05 02:20:35', 'last1', 'user1', 'pass1', 'first1')[0m

ActiveRecord::ConfigurationError (Primary key is not allowed in a has_and_belongs_to_many join table (roles_users).):
  app/controllers/users_controller.rb:47:in `create'
  app/controllers/users_controller.rb:46:in `create'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (84.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2011-07-05 10:23:09) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "user"=>{"role_ids"=>["1", "2"], "user_name"=>"user1", "last_name"=>"last1", "password"=>"pass1", "first_name"=>"first1"}}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2)) [0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "last_name", "user_name", "password", "first_name") VALUES('2011-07-05 02:23:09', '2011-07-05 02:23:09', 'last1', 'user1', 'pass1', 'first1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "roles_users" ("role_id", "user_id") VALUES (1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO "roles_users" ("role_id", "user_id") VALUES (2, 1)[0m
Redirected to http://localhost:3008/users/1
Completed in 13ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2011-07-05 10:23:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 10ms (View: 5, DB: 0) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:23:10) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2011-07-05 10:23:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 54ms (View: 50, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:23:16) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2011-07-05 10:23:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:23:23) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:23:24) [GET]
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/users
Rendering users/new
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2011-07-05 10:23:31) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "user"=>{"role_ids"=>["1", "2"], "user_name"=>"2", "last_name"=>"2", "password"=>"2", "first_name"=>"2"}}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2)) [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "last_name", "user_name", "password", "first_name") VALUES('2011-07-05 02:23:31', '2011-07-05 02:23:31', '2', '2', '2', '2')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "roles_users" ("role_id", "user_id") VALUES (1, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO "roles_users" ("role_id", "user_id") VALUES (2, 2)[0m
Redirected to http://localhost:3008/users/2
Completed in 28ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2011-07-05 10:23:31) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 46ms (View: 41, DB: 0) | 200 OK [http://localhost/users/2]


Processing UsersController#index (for 127.0.0.1 at 2011-07-05 10:23:34) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2011-07-05 10:24:03) [GET]
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/users
Rendering users/new
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "roles_users" ON "roles".id = "roles_users".role_id WHERE ("roles_users".user_id = NULL ) [0m
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2011-07-05 10:24:11) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"yOpIyM91AcDaVqHb68B5zC7DG/fJFkKQHMQlwElvzoY=", "user"=>{"role_ids"=>["2"], "user_name"=>"3", "last_name"=>"3", "password"=>"3", "first_name"=>"3"}}
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "last_name", "user_name", "password", "first_name") VALUES('2011-07-05 02:24:11', '2011-07-05 02:24:11', '3', '3', '3', '3')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "roles_users" ("role_id", "user_id") VALUES (2, 3)[0m
Redirected to http://localhost:3008/users/3
Completed in 34ms (DB: 0) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2011-07-05 10:24:11) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/users/3]
